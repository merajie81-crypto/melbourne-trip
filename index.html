<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å¢¨çˆ¾æœ¬å¤æ—¥æ¼«éŠ ğŸ¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --jp-mint: #E6F4F1;
            --jp-yellow: #FFF9E5;
            --jp-blue: #E0F2FE;
            --jp-text: #2D4F4F;
        }
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #F7FAF9;
            color: var(--jp-text);
            -webkit-tap-highlight-color: transparent;
        }
        .safe-area-bottom { padding-bottom: env(safe-area-inset-bottom); }
        .glass-card {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 24px;
        }
        .tab-content { display: none; animation: fadeIn 0.3s ease-in-out; }
        .tab-content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        
        /* è‡ªå®šç¾©æ»¾å‹•æ¢ */
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        
        /* æ—¥ç³»æŒ‰éˆ•æ¨£å¼ */
        .btn-jp {
            transition: all 0.2s;
            border-bottom: 4px solid #CBD5E1;
        }
        .btn-jp:active {
            transform: translateY(2px);
            border-bottom-width: 2px;
        }
    </style>
</head>
<body class="pb-24">

    <header class="p-6 bg-[#E6F4F1] rounded-b-[40px] shadow-sm mb-4">
        <div class="flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-teal-800">MELBOURNE</h1>
                <p class="text-sm text-teal-600 opacity-80">2025 å¤æ—¥å®¶æ—æ—…è¡Œ</p>
            </div>
            <div class="bg-white p-3 rounded-full shadow-inner text-2xl">ğŸ¨</div>
        </div>
    </header>

    <main class="px-4">
        <div id="plan" class="tab-content active">
            <h2 class="text-xl font-bold mb-4 flex items-center"><i class="fas fa-calendar-day mr-2 text-teal-500"></i> æ¯æ—¥è¡Œç¨‹</h2>
            
            <div class="glass-card p-5 mb-4 shadow-sm">
                <div class="flex items-center justify-between border-b border-dashed border-teal-200 pb-2 mb-3">
                    <span class="bg-yellow-200 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold">DAY 1 - å¸‚å€æ¢ç´¢</span>
                    <span class="text-xs text-gray-400">12/25 (å››)</span>
                </div>
                <ul class="space-y-4">
                    <li class="flex gap-3">
                        <div class="text-teal-500 font-bold w-12 text-sm">10:00</div>
                        <div class="text-sm">æŠµé”å¢¨çˆ¾æœ¬æ©Ÿå ´ (MEL)ï¼Œæ­ä¹˜ SkyBus å‰å¾€å¸‚å€é£¯åº—æ”¾è¡Œæã€‚</div>
                    </li>
                    <li class="flex gap-3">
                        <div class="text-teal-500 font-bold w-12 text-sm">13:00</div>
                        <div class="flex-1">
                            <p class="text-sm font-bold">Flinders Street Station & è–ä¿ç¾…å¤§æ•™å ‚</p>
                            <a href="https://www.google.com/maps/search/?api=1&query=Flinders+Street+Station" class="mt-2 inline-block bg-blue-100 text-blue-700 px-3 py-1 rounded-lg text-xs">
                                <i class="fas fa-map-marker-alt"></i> æŸ¥çœ‹åœ°åœ–
                            </a>
                        </div>
                    </li>
                    <li class="flex gap-3">
                        <div class="text-teal-500 font-bold w-12 text-sm text-red-500">18:00</div>
                        <div class="bg-red-50 p-2 rounded-lg flex-1 border border-red-100">
                            <p class="text-sm font-bold text-red-700">äºæ‹‰æ²³ç•”æ™šé¤ (å·²é ç´„)</p>
                            <p class="text-xs text-red-600">è«‹å‹™å¿…æº–æ™‚é›†åˆï¼Œæ²³é‚Šé¢¨å¤§å¸¶ä»¶è–„å¤–å¥—ã€‚</p>
                        </div>
                    </li>
                </ul>
            </div>
            
            <div class="glass-card p-5 mb-4 shadow-sm opacity-80">
                <div class="flex items-center justify-between border-b border-dashed border-teal-200 pb-2 mb-3">
                    <span class="bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-xs font-bold">DAY 2 - è‡ªç„¶ç”Ÿæ…‹</span>
                    <span class="text-xs text-gray-400">12/26 (äº”)</span>
                </div>
                <p class="text-sm">æ™®èŠ¬æ¯”åˆ©è’¸æ±½ç«è»Š ğŸš‚ -> è²åˆ©æ™®å³¶çœ‹ä¼éµæ­¸å·¢ ğŸ§</p>
                <div class="mt-3 flex gap-2">
                    <span class="text-[10px] bg-gray-100 px-2 py-1 rounded text-gray-500">#æ£®æ—èŠ¬å¤šç²¾</span>
                    <span class="text-[10px] bg-gray-100 px-2 py-1 rounded text-gray-500">#ä¼éµè¶…å¯æ„›</span>
                </div>
            </div>
        </div>

        <div id="guide" class="tab-content">
            <h2 class="text-xl font-bold mb-4 text-teal-800">ğŸ“– æ™¯é»å†·çŸ¥è­˜</h2>
            <div class="space-y-4">
                <div class="glass-card overflow-hidden">
                    <img src="https://images.unsplash.com/photo-1545044846-351ba102b6d5?auto=format&fit=crop&w=400" class="w-full h-32 object-cover">
                    <div class="p-4">
                        <h3 class="font-bold text-lg text-teal-700">éœè¥¿çˆ¾å·· (Hosier Lane)</h3>
                        <p class="text-sm text-gray-600 leading-relaxed mt-2">
                            é€™è£¡æ˜¯å¢¨çˆ¾æœ¬æœ€è‘—åçš„å¡—é´‰è¡—ã€‚å¢¨çˆ¾æœ¬æ”¿åºœä¸¦ä¸è¦–å…¶ç‚ºç ´å£ï¼Œè€Œæ˜¯è—è¡“ã€‚ç‰†ä¸Šçš„ç•«ä½œæ¯å¤©éƒ½åœ¨æ›´æ–°ï¼Œæ‰€ä»¥ä½ çœ‹åˆ°çš„æ¯ä¸€çœ¼éƒ½æ˜¯ã€ŒæœŸé™é™å®šã€ï¼
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <div id="wallet" class="tab-content">
            <div class="glass-card p-5 mb-4 bg-gradient-to-br from-yellow-50 to-white">
                <h3 class="font-bold mb-2">ğŸ’° åŒ¯ç‡æ›ç®— (AUD â” TWD)</h3>
                <div class="flex items-center gap-4">
                    <input type="number" id="audInput" placeholder="è¼¸å…¥æ¾³å¹£" class="w-full p-3 rounded-xl border-none shadow-inner" oninput="convertCurrency()">
                    <span class="text-xl">â”</span>
                    <div id="twdResult" class="w-full p-3 bg-white rounded-xl shadow-inner font-bold text-teal-600">ç´„ NT$ 0</div>
                </div>
                <p class="text-[10px] text-gray-400 mt-2">ç›®å‰åŒ¯ç‡è¨­å®šï¼š1 AUD = 21 TWD</p>
            </div>

            <div class="glass-card p-5">
                <h3 class="font-bold mb-3 text-sm flex justify-between">
                    <span>ğŸ“ æ—…è¡Œè¨˜å¸³</span>
                    <button onclick="clearExpenses()" class="text-red-400 text-xs">æ¸…é™¤å…¨éƒ¨</button>
                </h3>
                <div class="space-y-2 mb-4">
                    <input type="text" id="expName" placeholder="å“é … (å¦‚ï¼šæ™šé¤)" class="w-full p-2 text-sm border-b border-gray-100 focus:outline-none">
                    <input type="number" id="expAmt" placeholder="æ¾³å¹£é‡‘é¡" class="w-full p-2 text-sm border-b border-gray-100 focus:outline-none">
                    <div class="flex items-center gap-2 mt-2">
                        <label class="flex-1 bg-gray-100 p-2 rounded-lg text-center text-xs cursor-pointer">
                            <i class="fas fa-camera"></i> æ‹æ”¶æ“š
                            <input type="file" accept="image/*" id="expImg" class="hidden" onchange="handleImage(this)">
                        </label>
                        <button onclick="addExpense()" class="flex-1 bg-teal-500 text-white p-2 rounded-lg text-xs btn-jp font-bold">è¨˜éŒ„ä¸€ç­†</button>
                    </div>
                </div>
                <div id="expenseList" class="space-y-3">
                    </div>
            </div>
        </div>

        <div id="lists" class="tab-content">
            <div class="glass-card p-5 mb-4">
                <h3 class="font-bold mb-3"><i class="fas fa-check-square mr-2 text-green-500"></i> è¡Œå‰å¿…å‚™</h3>
                <div id="checkList" class="space-y-3">
                    </div>
            </div>
            <div class="glass-card p-5">
                <h3 class="font-bold mb-3"><i class="fas fa-sticky-note mr-2 text-yellow-500"></i> å‚™å¿˜éŒ„</h3>
                <textarea id="memoInput" class="w-full h-32 p-3 bg-yellow-50 rounded-xl text-sm border-none focus:ring-0" placeholder="é»æ“Šè¼¸å…¥å‚™å¿˜å…§å®¹ï¼Œæœƒè‡ªå‹•å„²å­˜..." oninput="saveMemo()"></textarea>
                <div id="memoLinks" class="mt-2 space-y-1"></div>
            </div>
        </div>

        <div id="info" class="tab-content">
            <div class="grid grid-cols-2 gap-3 mb-4">
                <a href="https://www.google.com/search?q=Melbourne+weather" target="_blank" class="glass-card p-4 text-center">
                    <i class="fas fa-sun text-orange-400 text-2xl mb-1"></i>
                    <p class="text-xs font-bold">ä»Šæ—¥å¤©æ°£</p>
                </a>
                <a href="https://translate.google.com/?sl=en&tl=zh-TW" target="_blank" class="glass-card p-4 text-center">
                    <i class="fas fa-language text-blue-400 text-2xl mb-1"></i>
                    <p class="text-xs font-bold">Google ç¿»è­¯</p>
                </a>
            </div>
            <div class="glass-card p-5 bg-red-50">
                <h3 class="font-bold text-red-800 mb-2">ğŸš¨ ç·Šæ€¥è¯ç¹«</h3>
                <p class="text-sm mb-1">æ¾³æ´²æ±‚æ•‘é›»è©±ï¼š000</p>
                <p class="text-sm">é§å¢¨çˆ¾æœ¬è¾¦äº‹è™•ï¼š+61-3-9650-5151</p>
            </div>
            <div class="mt-4 p-4 text-xs text-gray-400 leading-relaxed">
                * æ¾³æ´²å…¥å¢ƒç¦å¸¶è‚‰é¡ã€è”¬æœã€è›‹å¥¶è£½å“ã€‚<br>
                * éé¦¬è·¯è«‹å…ˆçœ‹å³æ‰‹é‚Šï¼ˆèˆ‡å°ç£ç›¸åï¼‰ã€‚<br>
                * ä¸‹åˆ 5 é»å¾Œå•†å ´é™¸çºŒé—œé–€ï¼Œè¨˜å¾—ææ—©è³¼ç‰©ã€‚
            </div>
        </div>
    </main>

    <nav class="fixed bottom-0 left-0 right-0 bg-white/90 backdrop-blur-md border-t border-gray-100 flex justify-around p-2 pb-6 safe-area-bottom shadow-lg z-50">
        <button onclick="showTab('plan', this)" class="flex fl